flows:
  main:
    - suspend: "event"
    - name: only name

    - return
    - exit
    - checkpoint: test

    - expr: ${qweqweqwe}
      meta:
        k: "v"
      error:
        - log: "log"
      out:
        k: "v"

    - form: "formName"

    - throw: ${error}

    - name: call step name
      call: "default2"
      in:
        k: "v"
      out:
        k: "one"
      meta:
        k: "v"
      error:
        - log: "call error"
      loop:
        items:
          - "a"
          - "b"
      retry:
        times: 1
        delay: "${delayExpr}"
    - parallel:
      - log: "test1"
      - log: "test2"

    - try:
        - log: "ME"

        - if: "${test}"
          then:
            - log: "test"
          else:
            - log: "test"
      meta:
        k: "v"
      out:
        - o

    - script: groovy
      body: "test"
      loop:
        items: "${test}"

    - set:
        k: "v"

    - switch: "${test}"
      one:
        - "return"
        - return
      default:
        - suspend: "now"
    - name: "Test task"
      task: "test"
      in:
        k: v
      out: "test"
      meta:
        k: "v"
      error:
        - log: "error"
      loop:
        items:
          - "one"
          - "two"
      retry:
        times: 3
        delay: 5
      ignoreErrors: true

    - log: "test message"
    - logYaml: ${someVar}
    - if: ${condition}
      then:
        - log: "yes"
      else:
        - log: "no"
    - block:
        - log: "step1"
        - log: "step2"
